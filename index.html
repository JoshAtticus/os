<!DOCTYPE html>
<html>
<head>
    <title>AtticusOS</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <!-- Menu Bar -->
    <div class="menu-bar">
        <div class="logo-container">
            <img src="assets/logo.png" alt="Logo" class="logo">
        </div>
        <ul class="menu-items">
            <li>File</li>
            <li>Edit</li>
            <li>View</li>
            <!-- Add more menu items as needed -->
        </ul>
    </div>

    <!-- Dock -->
    <div class="dock">
        <ul>
            <li class="app-link" data-url="https://classic.bettermeower.app" data-title="BetterMeower">
                <img src="https://classic.bettermeower.app/assets/apple-touch-icon.cec63b24.png?v5=true" alt="BetterMeower">
            </li>
            <li class="app-link" data-url="/os/apps/texteditor/index.html" data-title="Text editor">
                <img src="/os/apps/texteditor/icon.png" alt="Text editor">
            </li>
            <li class="app-link" data-url="/os/apps/browser/index.html" data-title="Browser">
                <img src="/os/apps/browser/icon.png" alt="Browser">
            </li>
            <li class="app-link" data-url="https://penguinmod.site" data-title="PenguinMod">
                <img src="/os/apps/browser/icons/penguinmod.png" alt="PenguinMod">
            </li>
            
            <!-- Add more app icons as needed -->
        </ul>
    </div>

    <!-- Desktop -->
    <div class="desktop">
        <!-- App Windows will be dynamically added here -->
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="assets/script.js"></script>

    <script>
        var isSmallScreen = window.innerWidth < 800 || window.innerHeight < 640;
        var isPortrait = window.innerWidth < window.innerHeight;
        
        if (isSmallScreen || isPortrait) {
            var appLink = document.querySelector('.app-link[data-url="https://classic.bettermeower.app"]');
            appLink.setAttribute('data-url', 'smallscreen.html');
            appLink.setAttribute('data-title', 'Notice');
        }
        
        $(document).ready(function() {
            $(".app-link").click(function() {
                var url = $(this).data("url");
                var appTitle = $(this).data("title");
                var appWindow = $("<div>").addClass("app-window resizable draggable").appendTo(".desktop");
                var windowBar = $("<div>").addClass("window-bar").appendTo(appWindow);
                var closeButton = $("<div>").addClass("red-circle").appendTo(windowBar);
                var resizeButton = $("<div>").addClass("green-circle").appendTo(windowBar);
                var title = $("<div>").addClass("title").text(appTitle).appendTo(windowBar);
                var iframe = $("<iframe>").addClass("app-iframe").attr("src", url).appendTo(appWindow);

                closeButton.click(function() {
                    appWindow.remove();
                });

                resizeButton.click(function() {
                    appWindow.toggleClass("maximized");
                });

                appWindow.draggable({
                    handle: windowBar,
                    containment: ".desktop",
                    scroll: false
                });

                appWindow.resizable({
                    handles: "n, e, s, w, ne, se, sw, nw",
                    containment: ".desktop",
                    minWidth: 200,
                    minHeight: 200
                });
            });
        });
    </script>
</body>
</html>
